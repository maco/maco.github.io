<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Start of a List - Mackenzie Morgan</title><meta name=Description content><meta property="og:url" content="https://mackenzie.morgan.name/posts/start-of-a-list/"><meta property="og:type" content="article"><meta property="og:site_name" content="Mackenzie Morgan"><meta property="og:title" content="Start of a List"><meta property="og:description" content="Elixir has a lot of ways to get the first thing in a list. One of the first things you learn from the basic syntax guide on the Elixir website is that hd(foo) gets the first thing in a list, and tl(foo) gets the rest. You also learn [ head | tail ] = foo.
But what happens when it&amp;rsquo;s an empty li"><meta property="og:image" content="https://mackenzie.morgan.name/tcard/start-of-a-list.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@"><meta name=application-name content="Mackenzie Morgan"><meta name=apple-mobile-web-app-title content="Mackenzie Morgan"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://mackenzie.morgan.name/posts/start-of-a-list/><link rel=prev href=https://mackenzie.morgan.name/posts/dang-elixir-is-stable/><link rel=next href=https://mackenzie.morgan.name/posts/reading-list-quakers-race/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Start of a List","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/mackenzie.morgan.name\/posts\/start-of-a-list\/"},"genre":"posts","keywords":"elixir, code","wordcount":301,"url":"https:\/\/mackenzie.morgan.name\/posts\/start-of-a-list\/","datePublished":"2021-05-18T22:16:01-04:00","dateModified":"2021-05-18T22:16:01-04:00","publisher":{"@type":"Organization","name":"Mackenzie Morgan"},"author":{"@type":"Person","name":"Mackenzie Morgan"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":""==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:""==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Mackenzie Morgan">Mackenzie Morgan</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/speaking/>Speaking </a><a class=menu-item href=/cv/>CV </a><a class=menu-item href=/now/>Now </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Mackenzie Morgan">Mackenzie Morgan</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/speaking/ title>Speaking</a><a class=menu-item href=/cv/ title>CV</a><a class=menu-item href=/now/ title>Now</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Start of a List</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Mackenzie Morgan</a></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw"></i>tech</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-05-18>2021-05-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;301 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;2 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents></nav></div></div><div class=content id=content><p>Elixir has a <em>lot</em> of ways to get the first thing in a list. One of the first things you learn from the basic syntax guide on the Elixir website is that <code>hd(foo)</code> gets the first thing in a list, and <code>tl(foo)</code> gets the rest. You also learn <code>[ head | tail ] = foo</code>.</p><p>But what happens when it&rsquo;s an empty list?</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=o>&gt;</span> <span class=n>foo</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=o>&gt;</span> <span class=n>hd</span><span class=p>(</span><span class=n>foo</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>**</span> <span class=p>(</span><span class=nc>ArgumentError</span><span class=p>)</span> <span class=n>argument</span> <span class=n>error</span>
</span></span><span class=line><span class=cl>    <span class=ss>:erlang</span><span class=o>.</span><span class=n>hd</span><span class=p>([])</span>
</span></span><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span><span class=o>&gt;</span> <span class=n>tl</span><span class=p>(</span><span class=n>foo</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>**</span> <span class=p>(</span><span class=nc>ArgumentError</span><span class=p>)</span> <span class=n>argument</span> <span class=n>error</span>
</span></span><span class=line><span class=cl>    <span class=ss>:erlang</span><span class=o>.</span><span class=n>tl</span><span class=p>([])</span></span></span></code></pre></div><p>Those first bits of syntax you learned will throw errors if given empty lists. That means you need to only use them after confirming the list has stuff in it, such as with a conditional or by pattern-matching.</p><p>If you aren&rsquo;t guaranteed the list has anything at all in it (such as after piping through an <code>Enum.filter/2</code> or <code>Enum.reject/2</code>), you need to go deeper into the standard library.</p><p>Three ways I know to get the first item are <code>Enum.at/2</code>, <code>List.first/1</code>, and <code>Enum.take/2</code>. At this point the question is: <strong>what kind of output do you need?</strong></p><p>If you want to get back the actual item itself (like you&rsquo;d get from <code>hd/1</code>), two ways to ensure you get <code>nil</code> (instead of an error) when it&rsquo;s empty are to use <code>Enum.at/2</code> or <code>List.first/1</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=o>&gt;</span> <span class=n>foo</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=o>&gt;</span> <span class=nc>Enum</span><span class=o>.</span><span class=n>at</span><span class=p>(</span><span class=n>foo</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=no>nil</span></span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=o>&gt;</span> <span class=n>foo</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=o>&gt;</span> <span class=nc>List</span><span class=o>.</span><span class=n>first</span><span class=p>(</span><span class=n>foo</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=no>nil</span></span></span></code></pre></div><p>If, on the other hand, you need a list (albeit, a potentially empty one) to make later functions in your pipeline happy? In that case, try <code>Enum.take/2</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=o>&gt;</span> <span class=n>foo</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>iex</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=o>&gt;</span> <span class=nc>Enum</span><span class=o>.</span><span class=n>take</span><span class=p>(</span><span class=n>foo</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>[]</span></span></span></code></pre></div><p>(<code>Enum.take/2</code> will return a list with length <em>up to</em> the number you specified, as available from the list. Give it a list of length 3 and ask for 5? You&rsquo;ll get all 3 items back.)</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-05-18</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/elixir/>elixir</a>,&nbsp;<a href=/tags/code/>code</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/dang-elixir-is-stable/ class=prev rel=prev title="Dang, Elixir is stable"><i class="fas fa-angle-left fa-fw"></i>Dang, Elixir is stable</a>
<a href=/posts/reading-list-quakers-race/ class=next rel=next title="Reading List: Quakers and Race">Reading List: Quakers and Race<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.113.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Mackenzie Morgan</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:15},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script><meta name=plausible content="true"><script type=text/javascript src=https://plausible.io/js/plausible.js async defer data-domain=mackenzie.morgan.name></script></body></html>